<app-link-to-home></app-link-to-home>
<div class="wrapper">
  <section class="fret">
    <div class="string-row" *ngFor="let row of stringRows; let i = index">
      <div class="string-pitcher" (wheel)="wheel($event, i)" (click)="wheelChange(i, isPitchUp)">
        <div id="wheel{{i}}" class="wheel">
          <div class="wheel-top" [style.transform]="'rotate(' + (360/12)*row.firstNote.getId() + 'deg)'"></div>
        </div>
      </div>
      <div class="note" *ngFor="let note of row.getNotes()" [ngClass]="{
      'note-disabled': getStageId(note.getId()) == 0,
      'note-maj-seventh': getStageId(note.getId()) == 12,
      'note-min-seventh': getStageId(note.getId()) == 11,
      'note-maj-sixth': getStageId(note.getId()) == 10,
      'note-min-sixth': getStageId(note.getId()) == 9,
      'note-fifth': getStageId(note.getId()) == 8,
      'note-tritone': getStageId(note.getId()) == 7,
      'note-fourth': getStageId(note.getId()) == 6,
      'note-maj-third': getStageId(note.getId()) == 5,
      'note-min-third': getStageId(note.getId()) == 4,
      'note-maj-second' : getStageId(note.getId()) == 3,
      'note-min-second' : getStageId(note.getId()) == 2,
      'note-tonic': getStageId(note.getId()) == 1}">
        <div class="notename-wrapper">
          {{note.getName()}}
        </div>
      </div>
    </div>
  </section>
  <section class="menu">
    <div class="string-controller">
      <div class="pitch-direction"><span>Pitch direction <br>Up/Down</span><input type="checkbox"
          [(ngModel)]="isPitchUp"></div>
      <hr>
      <span>String: {{stringRows.length}}</span>
      <button (click)="addString()">Add</button>
      <button (click)="removeString()">Remove</button>
    </div>
    <div class="selects-wrapper">
      <div class="select-container">
        <label for="selectTune">Tuning</label>
        <select name="selectTune" [(ngModel)]="selectTuneName" (change)="refreshStrings()">
          <option *ngFor="let tune of TUNES | keyvalue" [value]="tune.key">{{tune.key}}</option>
        </select>
        <button (click)="refreshStrings()">REFRESH</button>
      </div>
      <div class="select-container">
        <label for="selectTonic">Tonic</label>
        <select name="selectTonic" [(ngModel)]="selectTonic">
          <option [value]="0" selected>A</option>
          <option [value]="1">A#</option>
          <option [value]="2">B</option>
          <option [value]="3">C</option>
          <option [value]="4">C#</option>
          <option [value]="5">D</option>
          <option [value]="6">D#</option>
          <option [value]="7">E</option>
          <option [value]="8">F</option>
          <option [value]="9">F#</option>
          <option [value]="10">G</option>
          <option [value]="11">G#</option>
        </select>
      </div>
      <div class="select-container">
        <label for="selectScale">Scale</label>
        <select name="selectScale" [(ngModel)]="selectScale">
          <option *ngFor="let scale of SCALES | keyvalue" [value]="scale.key">{{scale.key}}</option>
        </select>
      </div>
    </div>
    </section>
</div>