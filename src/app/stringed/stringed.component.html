<a class="backlink" routerLink="/home">BACK</a>
<section class="fret">
  <div class="string-row" *ngFor="let row of stringRows; let i = index">
    <div class="string-pitcher"
      (wheel)="wheel($event, i)" (click)="wheelChange(i, isPitchUp)">
      <div id="wheel{{i}}" class="wheel">
        <div class="wheel-top" [style.transform]="'rotate(' + (360/12)*row.firstNote.getId() + 'deg)'"></div>
      </div>
    </div>
    <div class="note" *ngFor="let noteItem of row.getNotes()" [ngClass]="{
      'note-disabled': getStageId(noteItem.getId()) == 0,
      'note-active': isActiveNote(noteItem.getId()),
      'note-addition': getStageId(noteItem.getId()) == 12,
      'note-penta': getStageId(noteItem.getId()) == 5,
      'note-third': getStageId(noteItem.getId()) == 3,
      'note-tonic': getStageId(noteItem.getId()) == 1}">
      {{noteItem.getName()}}
    </div>
  </div>
</section>
<section class="menu">
  <div class="string-controller">
    <div class="pitch-direction"><span>Pitch direction <br>Up/Down</span><input type="checkbox" [(ngModel)]="isPitchUp"></div>
    <hr>
    <span>String: {{stringRows.length}}</span>
    <button (click)="addString()">Add</button>
    <button (click)="removeString()">Remove</button>
  </div>
  <div class="select-container">
    <label for="selectTune">Tuning</label>
    <select name="selectTune" [(ngModel)]="selectTuneName" (change)="refreshStrings()">
      <option *ngFor="let tune of TUNES | keyvalue" [value]="tune.key">{{tune.key}}</option>
    </select>
    <button (click)="refreshStrings()">REFRESH</button>
  </div>
  <div class="select-container">
    <label for="selectTonic">Tonic</label>
    <select name="selectTonic" [(ngModel)]="selectTonic">
      <option [value]="0" selected>A</option>
      <option [value]="1">A#</option>
      <option [value]="2">B</option>
      <option [value]="3">C</option>
      <option [value]="4">C#</option>
      <option [value]="5">D</option>
      <option [value]="6">D#</option>
      <option [value]="7">E</option>
      <option [value]="8">F</option>
      <option [value]="9">F#</option>
      <option [value]="10">G</option>
      <option [value]="11">G#</option>
    </select>
  </div>
  <div class="select-container">
    <label for="selectScale">Scale</label>
    <select name="selectScale" [(ngModel)]="selectScale">
      <option *ngFor="let scale of SCALES | keyvalue" [value]="scale.key">{{scale.key}}</option>
    </select>
  </div>
</section>